<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors Game</title>
</head>
<body>
    <h1>Rock-Paper-Scissors Game</h1>

    <!-- Video feed from the webcam -->
    <img id="video_feed" src="{{ url_for('video_feed') }}" style="width: 640px; height: 480px;">

    <!-- Display the result of each round -->
    <h2>{{ result }}</h2>

    <!-- User input form for guessing the character -->
    {% if result and "5판이 끝났습니다. 이제 인물을 맞춰보세요!" in result %}
        <form action="{{ url_for('guess') }}" method="post">
            <label for="user_guess">인물 추측:</label>
            <input type="text" id="user_guess" name="user_guess" required>
            <input type="submit" value="확인">
        </form>
    {% elif result and "랜덤 인물" in result %}
        <form action="{{ url_for('guess') }}" method="post">
            <label for="user_guess">정답 입력:</label>
            <input type="text" id="user_guess" name="user_guess" required>
            <input type="submit" value="확인">
        </form>
    {% endif %}

    <!-- Display hints if the user won the game -->
    {% if result and "이겼습니다!" in result %}
        <p id="hint">{{ url_for('hint') }}</p>
    {% endif %}

    <script>
        // Auto-refresh the video feed every 2 seconds
        setInterval(function(){
            document.getElementById('video_feed').src = "{{ url_for('video_feed') }}?" + new Date().getTime();
        }, 2000);
    </script>
</body>
</html>
